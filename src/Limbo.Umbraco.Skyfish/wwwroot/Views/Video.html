﻿<div class="limbo-skyfish-video" ng-controller="Limbo.Umbraco.Skyfish.Video as vm" ng-class="{loading: vm.loading}">
    <div class="limbo-skyfish-video-input">
        <h5><localize key="limboSkyfish_urlOrEmbedCode">URL</localize></h5>
        <input type="text" ng-show="!vm.embed" ng-model="vm.value.source" ng-change="vm.updated()" placeholder="limboSkyfish_urlPlaceholder" localize="placeholder" />
        <textarea ng-show="vm.embed" ng-model="vm.value.source" ng-change="vm.updated()" rows="5"></textarea>
        <div>
            <button type="button" ng-click="vm.refresh()" ng-if="vm.value.details"><localize key="limboSkyfish_refresh">Refresh current video</localize></button>
        </div>
    </div>
    <div class="limbo-skyfish-video-error" ng-if="vm.error">
        <div class="alert alert-danger">{{vm.error.message}}</div>
    </div>
    <div class="limbo-skyfish-video-details" ng-show="vm.value.details">
        <h5><localize key="limboSkyfish_video">Video</localize></h5>
        <div>
            <a class="limbo-skyfish-video-app-url" href="{{vm.appUrl}}" target="_blank" rel="noopener noreferrer" title="limboSkyfish_appUrlTooltip" localize="title">
                <umb-icon icon="icon-out"></umb-icon>
            </a>
            <div class="limbo-skyfish-thumbnail">
                <img ng-src="{{vm.thumbnail.url}}" width="{{vm.thumbnail.width}}" height="{{vm.thumbnail.height}}" />
            </div>
            <div class="limbo-skyfish-video-info">
                <table>
                    <tr>
                        <th>
                            <localize key="limboSkyfish_id">ID</localize>
                        </th>
                        <td><code>{{vm.id}}</code></td>
                    </tr>
                    <tr>
                        <th>
                            <localize key="limboSkyfish_title">Title</localize>
                        </th>
                        <td>{{vm.title}}</td>
                    </tr>
                    <tr>
                        <th>
                            <localize key="limboSkyfish_duration">Duration</localize>
                        </th>
                        <td>
                            <limbo-video-duration ng-if="vm.duration" value="vm.duration"></limbo-video-duration>
                        </td>
                    </tr>
                </table>
                <div ng-if="vm.description" class="limbo-skyfish-video-description">{{vm.description}}</div>
            </div>
        </div>
    </div>
    <umb-load-indicator ng-if="vm.loading"></umb-load-indicator>
</div>
